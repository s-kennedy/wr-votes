---
layout: "default"
---
{% comment %}
Try to eat up all leading slashes and the trailing .html . 
This is gross but it works.
{% endcomment %}
{% assign ward-id = page.url | replace: '.html', '' | split: '/' | last -%}
{% assign ward-info = site.data.internal.position-tags |
where:"PositionUniqueName",ward-id | first -%}


<h1>Who is Running? {{ ward-info.PositionDesc }}</h1>

{% assign municipal-info = site.data.internal.municipality-map |
where:"Name",ward-info.WardMunicipality | first %}
{% assign races-split = municipal-info.Races | split: ',' %}

{% for race in races-split %}
  {% if race == "_SELF" %}
    {% assign race-id = ward-id %}
  {% else %}
    {% assign race-id = race %}
  {% endif %}

  <div class="race-wrapper">

    {% include list-nominees.html race-id=race-id %}

  </div>

{% endfor %}

<script src="{{ site.baseurl }}/assets/jquery-3.3.1.min.js"></script>
<script src="{{ site.baseurl }}/assets/hide-listings.js"></script>

